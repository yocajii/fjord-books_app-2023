<h1><%= t('views.common.title_show', name: Report.model_name.human) %></h1>

<%= render @report %>

<div>
  <strong><%= Mention.model_name.human %>:</strong>
  <% if (mentions = @report.mentioned_reports.order(:id).presence) %>
  <ul>
    <% mentions.each do |mention| %>
      <li>
        <%= link_to mention.title, report_url(mention) %>
        <small>
          (<%= link_to mention.user.name_or_email, mention.user %> - <%= l mention.created_at, format: :short %>)
        </small>
      </li>
    <% end %>
  </ul>
  <% else %>
    <p>
      (<%= t('mentions.no_mentions') %>)
    </p>
  <% end %>
</div>

<%= render 'shared/comments', commentable: @report %>

<div>
  <% if @report.editable?(current_user) %>
    <%= link_to t('views.common.edit', name: Report.model_name.human.downcase), edit_report_path(@report) %> |
  <% end %>
  <%= link_to t('views.common.back', name: i18n_pluralize(Report.model_name.human.downcase)), reports_path %>

  <% if @report.editable?(current_user) %>
    <%= button_to t('views.common.destroy', name: Report.model_name.human.downcase), @report, method: :delete %>
  <% end %>
</div>
